<html>

<head>
    <link href="http://getbootstrap.com/2.3.2/assets/css/bootstrap.css" rel="stylesheet">
    <link href="http://getbootstrap.com/2.3.2/assets/css/bootstrap-responsive.css" rel="stylesheet">
</head>

<body ng-app="myApp" ng-controller="myCtrl as mc">

    <div> Account Id
        <br> {{ myaccount }} 
    </div>
    <br>
    <select id="selectInst" ng-model="currencyPair" ng-options="o.instrument as o.displayName for o in instruments" bs-selectbox="Select Item" ng-change="updateCurrency(currencyPair)"></select>
    <br>
    <select ng-model="side" ng-options="opr as opr for opr in operations" bs-selectbox="Buy or Sell"></select>
    <br>
    <div ng-click="openMarketOrder(1,side)" class="h1"> Click to Open Market Order
        <div class="col-sm-4">
            <ul class="list-group">
                <li class="list-group-item" ng-repeat="o in order">{{o}}</li>
            </ul>
        </div>
    </div>
    <br>
    <div ng-controller="myCtrl as mc">
        <form>
            No of Orders
            <select ng-model="NoOfOrders" ng-options="o as o for o in OrderCount" bs-selectbox="no of orders"></select>
            Pip Difference
            <select ng-model="pipDiff" ng-options="p as p for p in PipCount" bs-selectbox="pip difference"></select>
        </form>
        <button class="btn" ng-click="openFixedPipOrder(currencyPair,NoOfOrders,side,pipDiff)">Open Fixed Pip Orders</button>
    </div>
    <br>
    <div>
        <h3> All Trades</h3>
        <table class="table table-striped">
            <thead>
                <th>Units</th>
                <th>Side</th>
                <th>Instrument</th>
                <th>Time</th>
                <th>Price</th>
                <th>TP</th>
            </thead>
            <tr ng-repeat="trade in trades.trades">
                <td>{{trade.units}}</td>
                <td>{{trade.side}}</td>
                <td>{{trade.instrument}}</td>
                <td>{{trade.time | date:'MM/dd/yyyy h:mm:ss a'}}</td>
                <td>{{trade.price}}</td>
                <td>{{trade.takeProfit|currency}}</td>
            </tr>
        </table>
    </div>

    <div ng-click="getRate(currencyPair)"> Rate
        <br>
        <div class="col-sm-4">
            <ul class="list-group">
                <li class="list-group-item" ng-repeat="rate in rates">{{rate}}</li>
            </ul>
        </div>
    </div>

    <div ng-click='getHistoricalRate(currencyPair)'> Historical Rate
        <br>
        <div class="col-sm-4">
            <ul class="list-group">
                <li class="list-group-item" ng-repeat="rate in historicalRates">{{rate}}</li>
            </ul>
        </div>
    </div>


    <div ng-click="getTransactionList(currencyPair)"> Transactions
        <br> {{ transList }}
    </div>

</body>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/json2/20121008/json2.js"></script>
<script src="oanda.js"></script>
<script src="trade.js"></script>

</html>
